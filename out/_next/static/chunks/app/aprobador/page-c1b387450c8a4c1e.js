(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[981],{10489:(e,a,r)=>{"use strict";r.d(a,{b:()=>c});var s=r(12115),i=r(97602),n=r(95155),l=s.forwardRef((e,a)=>(0,n.jsx)(i.sG.label,{...e,ref:a,onMouseDown:a=>{var r;a.target.closest("button, input, select, textarea")||(null==(r=e.onMouseDown)||r.call(e,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));l.displayName="Label";var c=l},26983:(e,a,r)=>{"use strict";r.d(a,{A:()=>s});let s=(0,r(71847).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},51988:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>k});var s=r(95155),i=r(12115),n=r(83936),l=r(6493),c=r(97546),t=r(97003),o=r(83209),d=r(96633),h=r(67812),m=r(67001),u=r(90235),x=r(26983),j=r(71847);let p=(0,j.A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),f=(0,j.A)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),v=(0,j.A)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);var b=r(54690),g=r(33427),N=r(64488);let A=[{label:"Pendientes",href:"/aprobador",icon:"â³"},{label:"Historial",href:"/aprobador/historial",icon:"\uD83D\uDCDC"},{label:"Notificaciones",href:"/aprobador/notificaciones",icon:"\uD83D\uDD14"}],y=[{id:"COM-202501-0001",creador:"Juan P\xe9rez",tipo:"Solicitud de Compra",estado:"Pendiente",fecha:"2025-01-08",contenido:"Solicitud de compra de 10 laptops para el departamento de TI"},{id:"VAC-202501-0003",creador:"Mar\xeda Garc\xeda",tipo:"Vacaciones",estado:"Pendiente",fecha:"2025-01-10",contenido:"Solicitud de vacaciones del 15 al 30 de enero"},{id:"REM-202501-0005",creador:"Carlos L\xf3pez",tipo:"Reembolso",estado:"Pendiente",fecha:"2025-01-09",contenido:"Reembolso de gastos de viaje por $2,500 MXN"}],w=[{id:"COM-202501-0002",creador:"Ana Mart\xednez",tipo:"Compra",decision:"Aprobado",fecha:"2025-01-07",qrPreliminar:"COM-202501-0002-PRELIM"},{id:"REM-202501-0001",creador:"Pedro S\xe1nchez",tipo:"Reembolso",decision:"Aprobado",fecha:"2025-01-06",qrPreliminar:"REM-202501-0001-PRELIM"},{id:"VAC-202501-0002",creador:"Laura G\xf3mez",tipo:"Vacaciones",decision:"Rechazado",fecha:"2025-01-05",qrPreliminar:"VAC-202501-0002-PRELIM"}],C=[{fecha:"2025-01-08 10:30",accion:"Documento creado",usuario:"Juan P\xe9rez"},{fecha:"2025-01-08 11:15",accion:"Enviado a revisi\xf3n",usuario:"Sistema"},{fecha:"2025-01-08 14:20",accion:"Asignado a aprobador",usuario:"Sistema"}];function k(){let[e,a]=(0,i.useState)(""),[r,j]=(0,i.useState)(null),[k,z]=(0,i.useState)(null),[P,R]=(0,i.useState)(!1);return(0,s.jsxs)("div",{className:"flex min-h-screen flex-col",children:[(0,s.jsx)(n.a,{userName:"Aprobador",role:"Rol: Aprobador"}),(0,s.jsxs)("div",{className:"flex flex-1",children:[(0,s.jsx)(l.z,{items:A}),(0,s.jsx)("main",{className:"flex-1 bg-gray-50 p-6",children:(0,s.jsxs)("div",{className:"mx-auto max-w-6xl space-y-6",children:[(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)(t.$,{variant:P?"outline":"default",onClick:()=>R(!1),className:P?"":"bg-[#10B981] hover:bg-[#059669]",children:"Pendientes"}),(0,s.jsx)(t.$,{variant:P?"default":"outline",onClick:()=>R(!0),className:P?"bg-[#3B82F6] hover:bg-[#2563EB]":"",children:"Historial"})]}),P?(0,s.jsxs)(o.Zp,{className:"shadow-lg",children:[(0,s.jsx)(o.aR,{children:(0,s.jsxs)(o.ZB,{className:"flex items-center gap-2 text-2xl text-[#3B82F6]",children:[(0,s.jsx)(b.A,{className:"h-6 w-6"}),"Historial de Documentos Revisados"]})}),(0,s.jsx)(o.Wu,{children:(0,s.jsxs)(d.XI,{children:[(0,s.jsx)(d.A0,{children:(0,s.jsxs)(d.Hj,{children:[(0,s.jsx)(d.nd,{children:"Folio"}),(0,s.jsx)(d.nd,{children:"Creador"}),(0,s.jsx)(d.nd,{children:"Tipo"}),(0,s.jsx)(d.nd,{children:"Decisi\xf3n"}),(0,s.jsx)(d.nd,{children:"Fecha"}),(0,s.jsx)(d.nd,{children:"QR Preliminar"})]})}),(0,s.jsx)(d.BF,{children:w.map(e=>(0,s.jsxs)(d.Hj,{className:"hover:bg-gray-50 transition-colors",children:[(0,s.jsx)(d.nA,{className:"font-medium",children:e.id}),(0,s.jsx)(d.nA,{children:e.creador}),(0,s.jsx)(d.nA,{children:e.tipo}),(0,s.jsx)(d.nA,{children:(0,s.jsx)(h.E,{variant:"Aprobado"===e.decision?"default":"destructive",children:e.decision})}),(0,s.jsx)(d.nA,{children:e.fecha}),(0,s.jsx)(d.nA,{children:(0,s.jsx)(g.r,{value:e.qrPreliminar,size:48})})]},e.id))})]})})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(o.Zp,{className:"shadow-lg",children:[(0,s.jsx)(o.aR,{children:(0,s.jsxs)(o.ZB,{className:"flex items-center gap-2 text-2xl text-[#10B981]",children:[(0,s.jsx)(x.A,{className:"h-6 w-6"}),"Tr\xe1mites Pendientes de Aprobaci\xf3n"]})}),(0,s.jsx)(o.Wu,{children:(0,s.jsxs)(d.XI,{children:[(0,s.jsx)(d.A0,{children:(0,s.jsxs)(d.Hj,{children:[(0,s.jsx)(d.nd,{children:"Folio"}),(0,s.jsx)(d.nd,{children:"Creador"}),(0,s.jsx)(d.nd,{children:"Tipo"}),(0,s.jsx)(d.nd,{children:"Estado"}),(0,s.jsx)(d.nd,{children:"Fecha"}),(0,s.jsx)(d.nd,{children:"Acciones"})]})}),(0,s.jsx)(d.BF,{children:y.map(e=>(0,s.jsxs)(d.Hj,{className:"hover:bg-gray-50 transition-colors",children:[(0,s.jsx)(d.nA,{className:"font-medium",children:e.id}),(0,s.jsx)(d.nA,{children:e.creador}),(0,s.jsx)(d.nA,{children:e.tipo}),(0,s.jsx)(d.nA,{children:(0,s.jsx)(h.E,{variant:"outline",children:e.estado})}),(0,s.jsx)(d.nA,{children:e.fecha}),(0,s.jsx)(d.nA,{children:(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(t.$,{size:"sm",variant:"outline",onClick:()=>z(e),children:"Ver"}),(0,s.jsxs)(t.$,{size:"sm",className:"bg-[#10B981] hover:bg-[#059669]",onClick:()=>{j(e.id),z(e)},children:[(0,s.jsx)(p,{className:"mr-1 h-4 w-4"}),"Aprobar"]}),(0,s.jsxs)(t.$,{size:"sm",variant:"destructive",onClick:()=>{j(e.id),z(e)},children:[(0,s.jsx)(f,{className:"mr-1 h-4 w-4"}),"Rechazar"]})]})})]},e.id))})]})})]}),k&&(0,s.jsxs)(o.Zp,{className:"shadow-lg animate-in fade-in slide-in-from-top-2",children:[(0,s.jsx)(o.aR,{children:(0,s.jsxs)(o.ZB,{className:"flex items-center justify-between text-xl text-[#10B981]",children:[(0,s.jsxs)("span",{children:["Detalles del Documento - ",k.id]}),(0,s.jsx)(g.r,{value:(0,N.Z)(k.id,k.tipo,k.fecha),size:80})]})}),(0,s.jsxs)(o.Wu,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"rounded-lg border bg-gray-50 p-4",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-2",children:"Contenido:"}),(0,s.jsx)("p",{className:"text-gray-900",children:k.contenido})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(u.J,{htmlFor:"comentario",children:"Comentarios / Observaciones"}),(0,s.jsx)(m.T,{id:"comentario",value:e,onChange:e=>a(e.target.value),placeholder:"Escribe tus comentarios aqu\xed...",rows:4})]}),r===k.id?(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsxs)(t.$,{className:"flex-1 bg-[#10B981] hover:bg-[#059669]",onClick:()=>(r=>{if(!e.trim())return void alert("Por favor agrega un comentario antes de aprobar");alert("Documento ".concat(r," aprobado con comentario: ").concat(e)),a(""),j(null),z(null)})(r),children:[(0,s.jsx)(p,{className:"mr-2 h-4 w-4"}),"Confirmar Aprobaci\xf3n"]}),(0,s.jsxs)(t.$,{className:"flex-1",variant:"destructive",onClick:()=>(r=>{if(!e.trim())return void alert("Por favor agrega un comentario explicando el rechazo");alert("Documento ".concat(r," rechazado con comentario: ").concat(e)),a(""),j(null),z(null)})(r),children:[(0,s.jsx)(f,{className:"mr-2 h-4 w-4"}),"Confirmar Rechazo"]})]}):(0,s.jsxs)(t.$,{className:"w-full bg-[#3B82F6] hover:bg-[#2563EB]",onClick:()=>(r=>{if(!e.trim())return void alert("Por favor escribe un comentario");alert("Comentario agregado al documento ".concat(r,": ").concat(e)),a("")})(k.id),children:[(0,s.jsx)(v,{className:"mr-2 h-4 w-4"}),"Agregar Comentario"]})]})]}),(0,s.jsxs)(o.Zp,{className:"shadow-lg",children:[(0,s.jsx)(o.aR,{children:(0,s.jsx)(o.ZB,{className:"text-xl text-[#10B981]",children:"Bit\xe1cora de Actividades"})}),(0,s.jsx)(o.Wu,{children:(0,s.jsx)("div",{className:"space-y-3",children:C.map((e,a)=>(0,s.jsx)("div",{className:"flex items-start gap-3 border-l-2 border-[#3B82F6] pl-4",children:(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"font-medium text-gray-900",children:e.accion}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:[e.usuario," - ",e.fecha]})]})},a))})})]})]})]})})]}),(0,s.jsx)(c.m,{})]})}},56094:(e,a,r)=>{Promise.resolve().then(r.bind(r,51988))},67001:(e,a,r)=>{"use strict";r.d(a,{T:()=>n});var s=r(95155);r(12115);var i=r(25016);function n(e){let{className:a,...r}=e;return(0,s.jsx)("textarea",{"data-slot":"textarea",className:(0,i.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),...r})}},71847:(e,a,r)=>{"use strict";r.d(a,{A:()=>c});var s=r(12115);let i=function(){for(var e=arguments.length,a=Array(e),r=0;r<e;r++)a[r]=arguments[r];return a.filter((e,a,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===a).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,s.forwardRef)((e,a)=>{let{color:r="currentColor",size:l=24,strokeWidth:c=2,absoluteStrokeWidth:t,className:o="",children:d,iconNode:h,...m}=e;return(0,s.createElement)("svg",{ref:a,...n,width:l,height:l,stroke:r,strokeWidth:t?24*Number(c)/Number(l):c,className:i("lucide",o),...m},[...h.map(e=>{let[a,r]=e;return(0,s.createElement)(a,r)}),...Array.isArray(d)?d:[d]])}),c=(e,a)=>{let r=(0,s.forwardRef)((r,n)=>{let{className:c,...t}=r;return(0,s.createElement)(l,{ref:n,iconNode:a,className:i("lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),c),...t})});return r.displayName="".concat(e),r}},83101:(e,a,r)=>{"use strict";r.d(a,{F:()=>l});var s=r(2821);let i=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,n=s.$,l=(e,a)=>r=>{var s;if((null==a?void 0:a.variants)==null)return n(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:l,defaultVariants:c}=a,t=Object.keys(l).map(e=>{let a=null==r?void 0:r[e],s=null==c?void 0:c[e];if(null===a)return null;let n=i(a)||i(s);return l[e][n]}),o=r&&Object.entries(r).reduce((e,a)=>{let[r,s]=a;return void 0===s||(e[r]=s),e},{});return n(e,t,null==a||null==(s=a.compoundVariants)?void 0:s.reduce((e,a)=>{let{class:r,className:s,...i}=a;return Object.entries(i).every(e=>{let[a,r]=e;return Array.isArray(r)?r.includes({...c,...o}[a]):({...c,...o})[a]===r})?[...e,r,s]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}},97602:(e,a,r)=>{"use strict";r.d(a,{hO:()=>t,sG:()=>c});var s=r(12115),i=r(47650),n=r(32467),l=r(95155),c=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,a)=>{let r=s.forwardRef((e,r)=>{let{asChild:s,...i}=e,c=s?n.DX:a;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,l.jsx)(c,{...i,ref:r})});return r.displayName=`Primitive.${a}`,{...e,[a]:r}},{});function t(e,a){e&&i.flushSync(()=>e.dispatchEvent(a))}}},e=>{e.O(0,[239,619,355,56,441,255,358],()=>e(e.s=56094)),_N_E=e.O()}]);